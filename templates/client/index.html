{% extends 'client_base.html' %}

{% block extrahead %}
<link rel="stylesheet" type="text/css" href="{{ MEDIA_URL }}css/changelists.css" />
<link rel="stylesheet" type="text/css" href="{{ MEDIA_URL }}css/forms.css" />
<link rel="stylesheet" type="text/css" href="{{ MEDIA_URL }}css/dashboard.css" />
<link rel="stylesheet" type="text/css" href="{{ MEDIA_URL }}css/qs_filter.css" />
<style type="text/css">
td {
    padding: 1px;
    font-size: 80%;
}
input, select {
  font-size: 90%;
}
td.center {
text-align: center;

}

td.right {
text-align: right;
}

tr.alt td {
  font-weight: bold;
}

</style>
{% endblock %}

{% load lib_tags %}

{% block page_title %}Мои заказы{% endblock %}
{% block page_content %}
<div class="" id="changelist">
<form method="{{ filter.method }}" action="/client/{% if items_per_page %}?items_per_page={{ items_per_page }}{% endif %}">
<a href="/client/export_order/">Экспорт</a><br/><br/>
<input type="hidden" name="qs_filter" value="1">
<input type="submit" value="Фильтр">
<input type="submit" name="qs_filter_clear" value="Очистить">
Количество записей на странице:
<select onchange="location.href='{{ request.path }}?items_per_page=' + this.value">
<option value="20"{% ifequal items_per_page 20 %} selected {% endifequal %}>20</option>
<option value="50"{% ifequal items_per_page 50 %} selected {% endifequal %}>50</option>
<option value="100"{% ifequal items_per_page 100 %} selected {% endifequal %}>100</option>
</select>
<div class="aligned" id="changelist">
<table>
<thead>
<tr>{% table_header_sort cl.headers %}</tr>
<tr{% if cl.filter.is_set %} style="border: solid 2px green;"{% endif %}>
{% for f in cl.list_filters %}
<td>{{ f }}</td>
{% endfor %}
</tr>
</thead>
<tbody>
	{% for row in cl.results %}
	<tr class="{% cycle row1,row2 %} {{ row.obj.status }}">
	  {% for res in row %}
  	  <td>{{ res }}</td>
    {% endfor %}
  </tr>
  {% endfor %}
  {% if cl.total_row %}
  <tr class="alt">
  {% for val in cl.get_total_row %}
  <td>
  {% if forloop.first %}
  {{ val }}
  {% else %}
  {% if val %}{{ val|floatformat:3 }}{% else %}{% endif %}
  {% endif %}
  </td>
  
  {% endfor %}
  </tr>
  {% endif %}
	</tbody>
	</table>
</div>
{% include 'paginator.html' %}
{% endblock %}

