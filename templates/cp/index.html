{% extends 'cp_base.html' %}
{% load cp_tags %}

{% block extrahead %}
{{ block.super }}
<link rel="stylesheet" type="text/css" href="{{ MEDIA_URL }}css/admin_table.css">
<script>
var ajax_loader_img_path = '{{ MEDIA_URL }}img/icons/ajax-loader.gif';
</script>
<script type="text/javascript" src="{{ MEDIA_URL }}js/order_processing.js"></script>
{% endblock %}

{% block content %}
<div style="font-size: 16px; margin: 0 0 10px 0"><b><a href="/cp/">В виде таблицы</a></b> | <a href="/cp/groups/">По группам</a></div>
<div style="padding: 5px; border: solid 1px #0190BF; margin: 0 0 10px 0; background: #F5F5F5">
{{ filter.render }}
<div style="clear: both">&nbsp;</div>
</div>
{% if items %}
<table class="admin_table">
<tr>
{% table_header_sort headers %}
</tr>
{% for i in items %}
<tr>
<td>{{ i.po|default:"&nbsp;" }}</td>
<td>{{ i.created|date:"m/d/Y" }}</td>
<td>{{ i.description|default:"&nbsp;" }}</td>
<td>{{ i.side|default:"&nbsp;" }}</td>
<td>{{ i.brand|default:"&nbsp;" }}</td>
<td id="number_{{ i.id }}"{% ifequal i.status "superseded" %} class="cross_out"{% endifequal %}>{{ i.part_number|default:"&nbsp;" }}</td>
<td class="editable" onclick="editSuperseded({{ i.id }})"><div id="part_number_superseded_{{ i.id }}"  >{{ i.part_number_superseded|default:"" }}</div>
<span id="part_number_superseded_buttons_{{ i.id }}" style="display: none"><button onclick="save()">Save</button><button onclick="cancel()">Cancel</button></span>
</td>
<td class="editable" onclick="editPrice({{ i.id }})"><div id="price_{{ i.id }}">{{ i.price|default:"&nbsp;" }}</div>
<span id="price_buttons_{{ i.id }}" style="display: none"><button onclick="save()">Save</button><button onclick="cancel()">Cancel</button></span>
</td>
<td><div id="quantity_{{ i.id }}">{{ i.quantity|default:"" }}</div>
</td>
<td><div id="quantity_backorder_{{ i.id }}">{{ i.quantity_backorder|default:"" }}</div>
</td>
<td class="editable" onclick="editQuantityShip({{ i.id }})"><div id="quantity_ship_{{ i.id }}">{{ i.quantity_ship|default:"" }}</div>
<span id="quantity_ship_buttons_{{ i.id }}" style="display: none"><button onclick="save()">Save</button><button onclick="cancel()">Cancel</button></span>
</td>
<td class="editable">
<select id="status_input_{{ i.id }}" onchange="editStatus({{ i.id }}, this.value)">
{% for opt in status_options %}
<option value="{{ opt.value }}"{% ifequal opt.value i.status %} selected{% endifequal %}>{{ opt.option }}</option>
{% endfor %}
</select>
</td>
</tr>
{% endfor %}
</table>
{% else %}
Нет ни одной записи
{% endif %}
{% include "paginator.html" %}
{% endblock %}